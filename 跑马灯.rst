跑马灯
===============
一、单片机连接
------------------
首先，通过USB线将Typeboard与电脑连接，连接成功时板子上的绿灯会在0.5s内亮起，当其熄灭则表示开机启动程序已完成。

.. image:: https://github.com/tian0927/hello-world/raw/master/control.png

连接上后，window系统会将其视作移动磁盘，在本处其名称为PYBFLASH，可以看到仅有92KB的空间。

.. image:: https://github.com/tian0927/hello-world/raw/master/图片2.png


打开之后，其中包含有四个文件：


.. image:: https://github.com/tian0927/hello-world/raw/master/图片3.png


boot.py – 这个脚本执行时TPYBoard开发板启动。它设置了开发板的多个选项参数。 
main.py – 这是包含Python程序的主要脚本。在 boot.py 运行后被执行 
README.txt – 包含开启Python的必要基础信息。 
pybcdc.inf – 这是一个Windows驱动文件，配置串行USB装置`` 


二、代码编写
------------------
打开main.py文件开始编写代码：
导入头文件：
import pyb

.. image:: https://github.com/tian0927/hello-world/raw/master/图片4.png


之后开始实例化LED灯，使用pyb文件中的LED类来对LED灯进行实例化，在定义时，其定义函数依次为LED（1）、LED（2）、LED（3）、LED（4）。
在这里，我们使用元组的形式来对LED灯进行定义，代码为：
leds = [pyb.LED(i) for i in range(1,5)]

.. image:: https://github.com/tian0927/hello-world/raw/master/图片6.png


设置完毕后，即可编写函数实现跑马灯，基本思想为：设置变量n，对变量n进行加一后模4运算，依据所得结果对LED灯组进行翻转操作，每个翻转操作后延时一定时间，达到跑马灯的效果。代码如下：

.. image:: https://github.com/tian0927/hello-world/raw/master/图片7.png

为了处理异常情况，我们在代码的外层添加了try…finally…语句。
跑马灯效果如下图：

.. image:: https://github.com/tian0927/hello-world/raw/master/led.png
